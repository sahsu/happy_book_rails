# 典型的 web 應用的處理過程

(這個知識點，在工作中問的話，會被罵的）

1. 小王，在家裏，看新浪新聞時，先在瀏覽器中，輸入 新浪首頁URL： http://sina.com.cn/news 回車。

2. (小王的電腦上的）瀏覽器，就會發起一個 http request 到 http://sina.com.cn/news

3. 這個http request經過一些過程（域名解析阿，路由阿。。） 就會發送到 sina.com.cn 這個服務器上。
  3.1 小王的電腦, 連接上的網絡的DNS服務器，把 sina.com.cn
  這個域名，解析成一個 ip 地址。
  (可以通過 ping sina.com.cn 來知曉）

```
  $ ping sina.com.cn
  PING sina.com.cn (202.108.33.60) 56(84) bytes of data.
```

  這樣的話，小王的電腦就知道了，sina.com.cn 的IP 地址是： 202.108.33.60

  3.2 小王的電腦，就把 小王的請求， 發送到上面的ip 地址。 並且，加上若干信息：

```
  host: 202.108.33.60  （目的地）
  path:  '/news'        (請求的路徑）
  method: GET           （request的方法，一般是GET/POST）
```

  3.3 經過20層路由， 這個請求， 就由小王家，發到了 新浪的服務器上。
  舉個例子，小王家住： 青海省 -> 西寧市 -> 幸福縣 -> 嗨皮鄉 -> 葡萄村。
  路由的過程：

```
  1. 小王  -> 葡萄村 路由器。
  2. 葡萄寸路由器 -> 嗨皮鄉 路由器
  3. 嗨皮鄉路由器發送到 -> 幸福縣。
  4.   .. -> 西寧市路由器
  5. 西寧市 -> 青海省路由器
  6. 青海省路由器 -> 北京市 路由器
  7. 北京市路由器 -> 海淀區路由器
  8. 海淀區路由器 -> 中關村路由器
  9. 中關村路由器 -> 新浪大廈機房
  10. 機房路由器 -> 對應的服務器上。
```

下面是一個真實的例子：

```
$ traceroute www.baidu.com
traceroute to www.baidu.com (61.135.169.125), 30 hops max, 40 byte packets
 1  192.168.74.2 (192.168.74.2)  2.606 ms  2.771 ms  2.950 ms
 2  211.151.56.57 (211.151.56.57)  0.596 ms  0.598 ms  0.591 ms
 3  211.151.227.206 (211.151.227.206)  0.546 ms  0.544 ms  0.538 ms
 4  210.77.139.145 (210.77.139.145)  0.710 ms  0.748 ms  0.801 ms
 5  202.106.42.101 (202.106.42.101)  6.759 ms  6.945 ms  7.107 ms
 6  61.148.154.97 (61.148.154.97)  718.908 ms * bt-228-025.bta.net.cn (202.106.228.25)  5.177 ms
 7  124.65.58.213 (124.65.58.213)  4.343 ms  4.336 ms  4.367 ms
 8  202.106.35.190 (202.106.35.190)  1.795 ms 61.148.156.138 (61.148.156.138)  1.899 ms  1.951 ms
 9  * * *
30  * * *
```

4. 新浪服務器，收到了小王發來的 http request之後，就對它進行一些
處理。最終，返回了HTML內容。 (response)

5. 上面的 response . 經過20多層路由， 返回到了 小王家電腦

6. 小王的瀏覽器中， 顯示了 第四步的 html 內容。

## 知識體系的原則

1. 實用主義： 用到的知識，必須掌握熟練。
2. 不實用的(工作中幾乎用不到的）東西， 可以不理解。（網絡4層協議。 6層協議）
需要的時候，現學就趕趟。
3. 實用主義：不要讓自己在技術上站隊。你需要什麼，就學什麼。
不要催眠自己： 我是一個web程序員，我不做  android/ios.
